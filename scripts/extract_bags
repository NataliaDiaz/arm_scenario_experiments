#!/usr/bin/env python
"""
Extract all bags present in a folder
"""
import os
import subprocess

bags = [f for f in os.listdir(".") if f.endswith('.bag')]

print("{} bags found".format(len(bags)))
# Sort bags
bags.sort(key=lambda item: int(item.split('.')[0].split('_')[1]))

for bag in bags:
    print("Extracting {}".format(bag))
    subprocess.call(['rosrun', 'arm_scenario_experiments', 'button_bag_to_disk', bag])
